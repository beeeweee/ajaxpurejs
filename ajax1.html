<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJax 1 - Text File</title>
</head>
<body>
    <button id="button">Get Text</button>
    <br><br>
    <div id="text"></div>


    <script>
        // Creat event listener
        document.getElementById('button').addEventListener
        ('click', loadText);

        function loadText(){
            
            // Create XHR object
            var xhr = new XMLHttpRequest();
            
            // OPEN - tpye, URL/File, Asyn or not
            xhr.open('GET', 'sample.txt', true);
            console.log('READYYSTATE: ', xhr.readyState);

            //OPTION - USEd for loaders (something loading)
            xhr.onprogress = function(){
                console.log('READYYSTATE: ', xhr.readyState);
            }

            // use on error with onload
            xhr.onload = function(){
                console.log('READYYSTATE: ', xhr.readyState);
                if(this.status == 200){
                    //console.log(this.responseText);
                    document.getElementById('text').innerHTML = 
                    this.responseText;
                } else if(this.status = 404){
                    document.getElementById('text').innerHTML = 
                    'Not Found';
                }
            }
            //Provides error
            xhr.onerror = function(){
                console.log('Request Error...');
            }
        //     xhr.onreadystatechange = function(){
        //         console.log('READYYSTATE: ', xhr.readyState);
        //         if(this.readyState == 4 && this.status == 200){
        //             // console.log(this.responseText);

        //     }
        // }
            
            
            
            
            // Sends request
            xhr.send();

        }

        // HTTP Status
        //200: OK

        //ready state
        // 0 = request not intitialized
        // 1 = server connection established
        // 2 = request received
        // 3 = processing reqeust
        // 4 = 
        
        
    </script>
</body>
</html>